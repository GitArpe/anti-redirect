// ==UserScript==
// @name              anti-redirect (typescript)
// @author            axetroy
// @collaborator      axetroy
// @description       反重定向
// @version           2016.11.17.732
// @grant             GM_xmlhttpRequest
// @include           *www.baidu.com*
// @include           *www.google.*
// @include           *www.so.com*
// @include           *www.zhihu.com*
// @include           *daily.zhihu.com*
// @connect           *
// @compatible        chrome  完美运行
// @compatible        firefox  完美运行
// @supportURL        http://www.burningall.com
// @run-at            document-start
// @contributionURL   troy450409405@gmail.com|alipay.com
// @namespace         https://greasyfork.org/zh-CN/users/3400-axetroy
// @license           The MIT License (MIT); http://opensource.org/licenses/MIT
// ==/UserScript==

// Github源码:https://github.com/axetroy/anti-redirect


!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,e,r){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=80)}([function(t,e,r){"use strict";var n=r(2),o=r(76),i=r(11),u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=o.toSubscriber(t,e,r);if(n?n.call(i,this):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var o=r.subscribe(function(e){if(o)try{t(e)}catch(t){n(t),o.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[i.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(14),i=r(7),u=r(17),s=r(20),c=function(t){function e(r,n,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.empty;break;case 1:if(!r){this.destination=u.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,r,n,o)}}return n(e,t),e.prototype[s.$$rxSubscriber]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(i.Subscription);e.Subscriber=c;var a=function(t){function e(e,r,n,i){t.call(this),this._parent=e;var u,s=this;o.isFunction(r)?u=r:r&&(s=r,u=r.next,n=r.error,i=r.complete,o.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this)),this._context=s,this._next=u,this._error=n,this._complete=i}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(c)},function(t,e,r){"use strict";(function(t){if(e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(e,r(79))},function(t,e){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(o.Subscriber);e.OuterSubscriber=i},function(t,e,r){"use strict";function n(t,e,r,n){var f=new a.InnerSubscriber(t,r,n);if(f.closed)return null;if(e instanceof s.Observable)return e._isScalar?(f.next(e.value),f.complete(),null):e.subscribe(f);if(i.isArray(e)){for(var h=0,p=e.length;h<p&&!f.closed;h++)f.next(e[h]);f.closed||f.complete()}else{if(u.isPromise(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){o.root.setTimeout(function(){throw t})}),f;if("function"==typeof e[c.$$iterator])for(var d=e[c.$$iterator]();;){var b=d.next();if(b.done){f.complete();break}if(f.next(b.value),f.closed)break}else if("function"==typeof e[l.$$observable]){var v=e[l.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new a.InnerSubscriber(t,r,n));f.error(new Error("invalid observable"))}else f.error(new TypeError("unknown type returned"))}return null}var o=r(2),i=r(3),u=r(21),s=r(0),c=r(10),a=r(45),l=r(11);e.subscribeToResult=n},function(t,e,r){"use strict";var n=r(0),o=r(15),i=o.CONFIG.debug,u=function(){function t(t,e,r,n){void 0===n&&(n="a"),this.domainTester=t,this.urlTester=e,this.matcher=r,this.ASelector=n,this.match=!1,this.match=t.test(document.domain)}return t.prototype.handlerOneEle=function(t){var e=this;return n.Observable.of(t).filter(function(t){return e.urlTester.test(t.href)}).do(function(t){var r=e.matcher.exec(t.href);if(r&&r.length&&r[1]){var n=decodeURIComponent(r[1]);n&&(t.href=n,i&&(t.style.backgroundColor="green"))}})},t.prototype.scroll=function(){var t=this;return n.Observable.fromEvent(document,"mousemove").debounce(function(){return n.Observable.timer(500)}).flatMap(function(){return n.Observable.from([].slice.call(document.querySelectorAll(t.ASelector)))}).do(function(e){t.handlerOneEle(e).subscribe(function(){})})},t.prototype.mouseover=function(){var t=this;return n.Observable.fromEvent(document,"mousemove").throttle(function(){return n.Observable.timer(100)}).map(function(t){var e=t.target;return"A"===e.nodeName?e:"A"===e.parentNode.nodeName?e.parentNode:e}).filter(function(t){return"A"===t.nodeName}).flatMap(function(e){return t.handlerOneEle(e)})},t.prototype.log=function(t){console.log(t||"boostrap anti-redirect")},t.prototype.bootstrap=function(){var t=this;this.match&&n.Observable.fromEvent(document,"DOMContentLoaded").flatMap(function(){return n.Observable.timer(1e3)}).subscribe(function(){t.log(),t.scroll().subscribe(function(){}),t.mouseover().subscribe(function(){})})},t}();e.RedirectOnUrl=u},function(t,e,r){"use strict";var n=r(3),o=r(75),i=r(14),u=r(23),s=r(12),c=r(73),a=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var r=this,a=r._unsubscribe,l=r._subscriptions;if(this._subscriptions=null,i.isFunction(a)){var f=u.tryCatch(a).call(this);f===s.errorObject&&(e=!0,(t=t||[]).push(s.errorObject.e))}if(n.isArray(l))for(var h=-1,p=l.length;++h<p;){var d=l[h];if(o.isObject(d)){var f=u.tryCatch(d.unsubscribe).call(d);if(f===s.errorObject){e=!0,t=t||[];var b=s.errorObject.e;b instanceof c.UnsubscriptionError?t=t.concat(b.errors):t.push(b)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return r},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),i=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(o.Observable);e.EmptyObservable=i},function(t,e,r){"use strict";var n=r(70),o=r(71);e.async=new o.AsyncScheduler(n.AsyncAction)},function(t,e,r){"use strict";function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var u=o[i];if("entries"!==u&&"size"!==u&&n.prototype[u]===n.prototype.entries)return u}return"@@iterator"}var o=r(2);e.symbolIteratorPonyfill=n,e.$$iterator=n(o.root)},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var o=r(2);e.getSymbolObservable=n,e.$$observable=n(o.root)},function(t,e){"use strict";e.errorObject={e:{}}},function(t,e){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e){"use strict";var r={debug:!1};e.CONFIG=r},function(t,e,r){"use strict";var n=r(0),o=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){var n=this.kind;switch(n){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=o},function(t,e){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),i=r(19),u=r(8),s=r(22),c=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];s.isScheduler(n)?t.pop():n=null;var o=t.length;return o>1?new e(t,n):1===o?new i.ScalarObservable(t[0],n):new u.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,o=t.subscriber;return r>=n?void o.complete():(o.next(e[r]),void(o.closed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.array,o=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:r,count:o,subscriber:t});for(var u=0;u<o&&!t.closed;u++)t.next(n[u]);t.complete()},e}(o.Observable);e.ArrayObservable=c},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),i=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;return e?void n.complete():(n.next(r),void(n.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;return n?n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.closed||t.complete()))},e}(o.Observable);e.ScalarObservable=i},function(t,e,r){"use strict";var n=r(2),o=n.root.Symbol;e.$$rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber"},function(t,e){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(t){return u.errorObject.e=t,u.errorObject}}function o(t){return i=t,n}var i,u=r(12);e.tryCatch=o},function(t,e,r){"use strict";var n=r(78),o=r(0),i=function(){function t(t){this.options=t}return t.prototype.request=function(t){var e=n.extend({},this.options,t),r=e.onreadystatechange,i=e.onerror,u=e.onabort,s=e.ontimeout;return o.Observable.create(function(t){e.onreadystatechange=function(e){n.isFunction(r)&&r.call(this,e),4===e.readyState&&(e.status>=200&&e.status<400&&e.finalUrl?t.next(e):t.error(e),t.complete())},e.onerror=function(e){n.isFunction(i)&&i.call(this,e),t.error(e),t.complete()},e.onabort=function(e){n.isFunction(u)&&u.call(this,e),t.error(e),t.complete()},e.ontimeout=function(e){n.isFunction(s)&&s.call(this,e),t.error(e),t.complete()},GM_xmlhttpRequest(n.extend({},e))})},t.prototype.get=function(t,e){var r=n.extend(e||{},{url:t,method:"GET"});return this.request(r)},t.prototype.post=function(t,e,r){return this.request(n.extend(r||{},{url:t,method:"POST",data:e}))},t.prototype.head=function(t,e){return this.request(n.extend(e||{},{url:t,method:"HEAD"}))},t}(),u=2e3;e.timeout=u;var s=new i({timeout:u});e.http=s},function(t,e,r){"use strict";var n=r(0),o=r(54);n.Observable.forkJoin=o.forkJoin},function(t,e,r){"use strict";var n=r(0),o=r(55);n.Observable.from=o.from},function(t,e,r){"use strict";var n=r(0),o=r(56);n.Observable.fromEvent=o.fromEvent},function(t,e,r){"use strict";var n=r(0),o=r(57);n.Observable.of=o.of},function(t,e,r){"use strict";var n=r(0),o=r(58);n.Observable.timer=o.timer},function(t,e,r){"use strict";var n=r(0),o=r(59);n.Observable.prototype.debounce=o.debounce},function(t,e,r){"use strict";var n=r(0),o=r(60);n.Observable.prototype.delay=o.delay},function(t,e,r){"use strict";var n=r(0),o=r(61);n.Observable.prototype.do=o._do,n.Observable.prototype._do=o._do},function(t,e,r){"use strict";var n=r(0),o=r(62);n.Observable.prototype.filter=o.filter},function(t,e,r){"use strict";var n=r(0),o=r(63);n.Observable.prototype.map=o.map},function(t,e,r){"use strict";var n=r(0),o=r(64);n.Observable.prototype.mergeMap=o.mergeMap,n.Observable.prototype.flatMap=o.mergeMap},function(t,e,r){"use strict";var n=r(0),o=r(66);n.Observable.prototype.retry=o.retry},function(t,e,r){"use strict";var n=r(0),o=r(67);n.Observable.prototype.throttle=o.throttle},function(t,e,r){"use strict";var n=r(0),o=r(68);n.Observable.prototype.timeout=o.timeout},function(t,e,r){"use strict";function n(t){return t.innerText||t.textContent}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),u=r(24),s=r(77),c=function(t){function e(e,r,n,o){return void 0===o&&(o="a"),t.call(this,e,r,n,o)||this}return o(e,t),e.prototype.handlerAll=function(){var t=this,e=location.search.match(/pn=(\d+)/)||[""],r=2===e.length?+e[1]:0,n=window.top.location.href;if(/www\.baidu\.com\/s/.test(n)){var o=n.replace(/(\&)(tn=\w+)(\&)/gim,"$1tn=baidulocal$3")+("&timestamp="+(new Date).getTime());o.indexOf("tn=baidulocal")===-1&&(o+="&tn=baidulocal"),i.Observable.forkJoin(u.http.get(o),u.http.get(o.replace(/pn=(\d+)/,"pn="+(r+10)))).retry(2).timeout(u.timeout).subscribe(function(e){e&&e.length&&e.forEach(function(e){return t.handlerAllOne(e)})})}},e.prototype.handlerAllOne=function(t){var e=this,r=t.responseText.replace(/(src=[^>]*|link=[^>])/g,""),o=document.createElement("html");o.innerHTML=r,i.Observable.of(o.querySelectorAll(".f>a")).map(function(t){return[].slice.call(t).map(function(t){var e=[].slice.call(document.querySelectorAll(".t>a")).find(function(e){return n(e)===n(t)});return e?{local:e,remote:t}:void 0}).filter(function(t){return!!t})}).subscribe(function(t){t.filter(function(t){return!e.urlTester.test(t.remote.href)}).forEach(function(t){t.local.href=t.remote.href,t.local.setAttribute(e.status.done,"1"),e.DEBUG&&(t.local.style.backgroundColor="red")})})},e.prototype.log=function(){console.log("bootstrap baidu")},e}(s.RedirectOnRequest);Object.defineProperty(e,"__esModule",{value:!0}),e.default=new c(/www\.baidu\.com/,/www\.baidu\.com\/link\?url=/,null,"#content_left a")},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),i=r(15),u=i.CONFIG.debug,s=r(6),c=function(t){function e(e,r,n){return t.call(this,e,r,n)||this}return n(e,t),e.prototype.handlerOneEle=function(t){return o.Observable.of(t).do(function(t){t.getAttribute("onmousedown")&&(t.removeAttribute("onmousedown"),u&&(t.style.backgroundColor="green")),t.getAttribute("data-href")&&(t.href=t.getAttribute("data-href"),u&&(t.style.backgroundColor="green"))})},e.prototype.log=function(){console.log("bootstrap google")},e}(s.RedirectOnUrl);Object.defineProperty(e,"__esModule",{value:!0}),e.default=new c(/www\.google\./,null,null)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),i=function(t){function e(e,r,n){return t.call(this,e,r,n)||this}return n(e,t),e.prototype.log=function(){console.log("bootstrap 360 so")},e}(o.RedirectOnUrl);Object.defineProperty(e,"__esModule",{value:!0}),e.default=new i(/www\.so\.com/,/so\.com\/link\?url=/,/so\.com\/link\?url=(.*)/)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),i=function(t){function e(e,r,n){return t.call(this,e,r,n)||this}return n(e,t),e.prototype.log=function(){console.log("bootstrap zhihu daily")},e}(o.RedirectOnUrl);Object.defineProperty(e,"__esModule",{value:!0}),e.default=new i(/daily\.zhihu\.com/,/zhihu\.com\/\?target=/,/zhihu\.com\/\?target=(.*)/)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),i=function(t){function e(e,r,n){return t.call(this,e,r,n)||this}return n(e,t),e.prototype.log=function(){console.log("bootstrap zhihu")},e}(o.RedirectOnUrl);Object.defineProperty(e,"__esModule",{value:!0}),e.default=new i(/www\.zhihu\.com/,/zhihu\.com\/\?target=/,/zhihu\.com\/\?target=(.*)/)},function(t,e,r){/*!
 * in-view 0.6.0 - Get notified when a DOM element enters or exits the viewport.
 * Copyright (c) 2016 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/in-view
 * License: MIT
 */
!function(e,r){t.exports=r()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=r(2),i=n(o);t.exports=i.default},function(t,e){function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(9),i=n(o),u=r(3),s=n(u),c=r(4),a=function(){if("undefined"!=typeof window){var t=100,e=["scroll","resize","load"],r={history:[]},n={offset:{},threshold:0,test:c.inViewport},o=(0,i.default)(function(){r.history.forEach(function(t){r[t].check()})},t);e.forEach(function(t){return addEventListener(t,o)}),window.MutationObserver&&new MutationObserver(o).observe(document.body,{attributes:!0,childList:!0,subtree:!0});var u=function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return r.history.indexOf(t)>-1?r[t].elements=e:(r[t]=(0,s.default)(e,n),r.history.push(t)),r[t]}};return u.offset=function(t){if(void 0===t)return n.offset;var e=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(e(t)?function(e){return n.offset[e]=t}:function(r){return e(t[r])?n.offset[r]=t[r]:null}),n.offset},u.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?n.threshold=t:n.threshold},u.test=function(t){return"function"==typeof t?n.test=t:n.test},u.is=function(t){return n.test(t,n)},u.offset(0),u}};e.default=a()},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e,n){r(this,t),this.options=n,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var r=t.options.test(e,t.options),n=t.current.indexOf(e),o=n>-1,i=r&&!o,u=!r&&o;i&&(t.current.push(e),t.emit("enter",e)),u&&(t.current.splice(n,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var r=this.handlers[t].length;--r>-1;)this.handlers[t][r](e);return this}}]),t}();e.default=function(t,e){return new o(t,e)}},function(t,e){"use strict";function r(t,e){var r=t.getBoundingClientRect(),n=r.top,o=r.right,i=r.bottom,u=r.left,s=r.width,c=r.height,a={t:i,r:window.innerWidth-u,b:window.innerHeight-n,l:o},l={x:e.threshold*s,y:e.threshold*c};return a.t>e.offset.top+l.y&&a.r>e.offset.right+l.x&&a.b>e.offset.bottom+l.y&&a.l>e.offset.left+l.x}Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=r},function(t,e){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(e,function(){return this}())},function(t,e,r){var n=r(5),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},function(t,e,r){function n(t,e,r){function n(e){var r=m,n=w;return m=w=void 0,S=e,_=t.apply(n,r)}function l(t){return S=t,g=setTimeout(p,e),E?n(t):_}function f(t){var r=t-x,n=t-S,o=e-r;return j?a(o,O-n):o}function h(t){var r=t-x,n=t-S;return void 0===x||r>=e||r<0||j&&n>=O}function p(){var t=i();return h(t)?d(t):void(g=setTimeout(p,f(t)))}function d(t){return g=void 0,A&&m?n(t):(m=w=void 0,_)}function b(){void 0!==g&&clearTimeout(g),S=0,m=x=w=g=void 0}function v(){return void 0===g?_:d(i())}function y(){var t=i(),r=h(t);if(m=arguments,w=this,x=t,r){if(void 0===g)return l(x);if(j)return g=setTimeout(p,e),n(x)}return void 0===g&&(g=setTimeout(p,e)),_}var m,w,O,_,g,x,S=0,E=!1,j=!1,A=!0;if("function"!=typeof t)throw new TypeError(s);return e=u(e)||0,o(r)&&(E=!!r.leading,j="maxWait"in r,O=j?c(u(r.maxWait)||0,e):O,A="trailing"in r?!!r.trailing:A),y.cancel=b,y.flush=v,y}var o=r(1),i=r(8),u=r(10),s="Expected a function",c=Math.max,a=Math.min;t.exports=n},function(t,e,r){var n=r(6),o=function(){return n.Date.now()};t.exports=o},function(t,e,r){function n(t,e,r){var n=!0,s=!0;if("function"!=typeof t)throw new TypeError(u);return i(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),o(t,e,{leading:n,maxWait:e,trailing:s})}var o=r(7),i=r(1),u="Expected a function";t.exports=n},function(t,e){function r(t){return t}t.exports=r}])})},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),i=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(o.Subscriber);e.InnerSubscriber=i},function(t,e){"use strict";var r=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),i=r(19),u=r(8),s=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new u.EmptyObservable:1===n?new i.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,o=t.subscriber;if(!o.closed){if(r>=n)return void o.complete();o.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,n=this,o=n.arrayLike,i=n.scheduler,u=o.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:o,index:r,length:u,subscriber:t});for(var s=0;s<u&&!t.closed;s++)t.next(o[s]);t.complete()},e}(o.Observable);e.ArrayLikeObservable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),i=r(8),u=r(3),s=r(5),c=r(4),a=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return n(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new i.EmptyObservable;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&u.isArray(t[0])&&(t=t[0]),0===t.length?new i.EmptyObservable:new e(t,n)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(o.Observable);e.ForkJoinObservable=a;var l=function(t){function e(e,r,n){t.call(this,e),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var o=r.length;this.total=o,this.values=new Array(o);for(var i=0;i<o;i++){var u=r[i],c=s.subscribeToResult(this,u,null,i);c&&(c.outerIndex=i,this.add(c))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.values[r]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,n=r.haveValues,o=r.resultSelector,i=r.values,u=i.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===u){if(n===u){var s=o?o.apply(this,i):i;e.next(s)}e.complete()}},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function o(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function i(t){return!!t&&"[object NodeList]"===t.toString()}function u(t){return!!t&&"[object HTMLCollection]"===t.toString()}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(0),l=r(23),f=r(14),h=r(12),p=r(7),d=function(t){function e(e,r,n,o){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=o}return c(e,t),e.create=function(t,r,n,o){return f.isFunction(n)&&(o=n,n=void 0),new e(t,r,o,n)},e.setupSubscription=function(t,r,c,a,l){var f;if(i(t)||u(t))for(var h=0,d=t.length;h<d;h++)e.setupSubscription(t[h],r,c,a,l);else if(s(t)){var b=t;t.addEventListener(r,c,l),f=function(){return b.removeEventListener(r,c)}}else if(o(t)){var v=t;t.on(r,c),f=function(){return v.off(r,c)}}else{if(!n(t))throw new TypeError("Invalid event target");var y=t;t.addListener(r,c),f=function(){return y.removeListener(r,c)}}a.add(new p.Subscription(f))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,o=this.options,i=this.selector,u=i?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=l.tryCatch(i).apply(void 0,e);n===h.errorObject?t.error(h.errorObject.e):t.next(n)}:function(e){return t.next(e)};e.setupSubscription(r,n,u,t,o)},e}(a.Observable);e.FromEventObservable=d},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),i=r(21),u=r(52),s=r(51),c=r(18),a=r(47),l=r(10),f=r(0),h=r(65),p=r(11),d=function(t){return t&&"number"==typeof t.length},b=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return n(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[p.$$observable])return t instanceof f.Observable&&!r?t:new e(t,r);if(o.isArray(t))return new c.ArrayObservable(t,r);if(i.isPromise(t))return new u.PromiseObservable(t,r);if("function"==typeof t[l.$$iterator]||"string"==typeof t)return new s.IteratorObservable(t,r);if(d(t))return new a.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[p.$$observable]().subscribe(t):e[p.$$observable]().subscribe(new h.ObserveOnSubscriber(t,r,0))},e}(f.Observable);e.FromObservable=b},function(t,e,r){"use strict";function n(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new h(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function o(t){var e=+t.length;return isNaN(e)?0:0!==e&&i(e)?(e=u(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function i(t){return"number"==typeof t&&c.root.isFinite(t)}function u(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(2),a=r(0),l=r(10),f=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=n(e)}return s(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,o=t.subscriber;if(r)return void o.error(t.error);var i=n.next();return i.done?void o.complete():(o.next(i.value),t.index=e+1,o.closed?void("function"==typeof n.return&&n.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var r=0,n=this,o=n.iterator,i=n.scheduler;if(i)return i.schedule(e.dispatch,0,{index:r,iterator:o,subscriber:t});for(;;){var u=o.next();if(u.done){t.complete();break}if(t.next(u.value),t.closed){"function"==typeof o.return&&o.return();break}}},e}(a.Observable);e.IteratorObservable=f;var h=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=o(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function o(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r(2),s=r(0),c=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return i(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){u.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(n,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(i.schedule(n,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(i.schedule(o,0,{err:e,subscriber:t}))}).then(null,function(t){u.root.setTimeout(function(){throw t})})},e}(s.Observable);e.PromiseObservable=c},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(74),i=r(0),u=r(9),s=r(22),c=r(13),a=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,o.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):s.isScheduler(r)&&(n=r),s.isScheduler(n)||(n=u.async),this.scheduler=n,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber,o=this;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,o.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,n=this,o=n.period,i=n.dueTime,u=n.scheduler;return u.schedule(e.dispatch,i,{index:r,period:o,subscriber:t})},e}(i.Observable);e.TimerObservable=a},function(t,e,r){"use strict";var n=r(48);e.forkJoin=n.ForkJoinObservable.create},function(t,e,r){"use strict";var n=r(50);e.from=n.FromObservable.create},function(t,e,r){"use strict";var n=r(49);e.fromEvent=n.FromEventObservable.create},function(t,e,r){"use strict";var n=r(18);e.of=n.ArrayObservable.of},function(t,e,r){"use strict";var n=r(53);e.timer=n.TimerObservable.create},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(4),u=r(5);e.debounce=n;var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return o(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=u.subscribeToResult(this,e),r.closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){void 0===e&&(e=i.async);var r=u.isDate(t),n=r?+t-e.now():Math.abs(t);return this.lift(new a(n,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(9),u=r(13),s=r(1),c=r(16);e.delay=n;var a=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return o(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,o=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(r.length>0){var i=Math.max(0,r[0].time-n.now());this.schedule(t,i)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new f(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(c.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},e}(s.Subscriber),f=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new u(t,e,r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1);e._do=n;var u=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,r,n,o){t.call(this,e);var u=new i.Subscriber(r,n,o);u.syncErrorThrowable=!0,this.add(u),this.safeSubscriber=u}return o(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1);e.filter=n;var u=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0,this.predicate=r}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new u(t,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1);e.map=n;var u=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=u;var s=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new s(t,e,r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(5),u=r(4);e.mergeMap=n;var s=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var c=function(t){function e(e,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(i.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var o;try{o=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(u.OuterSubscriber);e.MergeMapSubscriber=c},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),u=r(16);e.observeOn=n;var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var c=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return o(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(u.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(u.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(u.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=c;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=a},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),this.lift(new u(t,this))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1);e.retry=n;var u=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,n=r.source,o=r.count;if(0===o)return t.prototype.error.call(this,e);o>-1&&(this.count=o-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,n.subscribe(this)}},e}(i.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(4),u=r(5);e.throttle=n;var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.destination=e,this.durationSelector=r}return o(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(t){return void this.destination.error(t)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=u.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,r,n,o){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(i.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e,r){void 0===e&&(e=null),void 0===r&&(r=i.async);var n=u.isDate(t),o=n?+t-r.now():Math.abs(t);return this.lift(new a(o,n,e,r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(9),u=r(13),s=r(1),c=r(72);e.timeout=n;var a=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=r,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),l=function(t){function e(e,r,n,o,i){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.errorToSend=o,this.scheduler=i,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return o(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend||new c.TimeoutError)},e}(s.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(7),i=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(o.Subscription);e.Action=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),i=r(69),u=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),o.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r?e:o.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(i.Action);e.AsyncAction=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(46),i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(o.Scheduler);e.AsyncScheduler=i},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=n},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(e,t),e}(Error);e.UnsubscriptionError=n},function(t,e,r){"use strict";function n(t){return!o.isArray(t)&&t-parseFloat(t)+1>=0}var o=r(3);e.isNumeric=n},function(t,e){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e,r){"use strict";function n(t,e,r){if(t){if(t instanceof o.Subscriber)return t;if(t[i.$$rxSubscriber])return t[i.$$rxSubscriber]()}return t||e||r?new o.Subscriber(t,e,r):new o.Subscriber(u.empty);
}var o=r(1),i=r(20),u=r(17);e.toSubscriber=n},function(t,e,r){"use strict";var n,o=r(0),i=r(24),u=r(15),s=u.CONFIG.debug,c={ing:"redirect-ing",done:"redirect-done"},a=function(){function t(t,e,r,n){void 0===n&&(n="a"),this.domainTester=t,this.urlTester=e,this.matcher=r,this.ASelector=n,this.DEBUG=s,this.status=c,this.match=t.test(document.domain)}return t.prototype.handlerOneEle=function(t){var e=this;if(this.urlTester.test(t.href)&&!t.getAttribute(c.ing)&&!t.getAttribute(c.done)){var r=t.href.replace(/^https?/,"https")+("&timestamp="+(new Date).getTime());t.style.cursor="progress",t.setAttribute(c.ing,"1"),i.http.get(r).retry(2).timeout(i.timeout).map(function(t){if(e.urlTester.test(t.finalUrl)){if(!t.response||/<\/noscript>$/.test(t.response.trim()))throw t;var r=t.response.match(/URL=\'?https?:\/\/[^'"]+/).join("").match(/https?:\/\/[^'"]+/)[0];if(!r||!/^https?/.test(r)||e.urlTester.test(r))throw t;t.finalUrl=r}return t}).subscribe(function(e){t.href=e.finalUrl,t.removeAttribute(c.ing),t.setAttribute(c.done,"1"),s&&(t.style.backgroundColor="green")},function(e){t.style.cursor=null,t.removeAttribute(c.ing)},function(){t.style.cursor=null,t.removeAttribute(c.ing)})}},t.prototype.handlerOneEleOneByOne=function(){var t=this;o.Observable.from([].slice.call(document.querySelectorAll("#content_left a"))).subscribe(function(e){n&&n.is(e)&&t.handlerOneEle(e)})},t.prototype.handlerAll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},t.prototype.handlerAllOne=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},t.prototype.scroll=function(){return o.Observable.fromEvent(window,"scroll").debounce(function(){return o.Observable.timer(200)})},t.prototype.mouseover=function(){return o.Observable.fromEvent(document,"mousemove").throttle(function(){return o.Observable.timer(100)}).map(function(t){var e=t.toElement;return"A"===e.nodeName?e:"A"===e.parentNode.nodeName?e.parentNode:e}).filter(function(t){return"A"===t.nodeName})},t.prototype.log=function(t){console.log(t||"boostrap anti-redirect")},t.prototype.bootstrap=function(){var t=this;this.match&&o.Observable.fromEvent(document,"DOMContentLoaded").delay(500).do(function(){n=r(44),n("#content_left a").on("enter",function(e){t.handlerOneEle(e)})}).do(function(){t.handlerAll()}).flatMap(function(){return o.Observable.create(function(t){new MutationObserver(function(e){void 0===e&&(e=[]),e.length&&t.next()}).observe(document.body,{childList:!0})}).debounce(function(){return o.Observable.timer(500)})}).subscribe(function(){t.log(),t.scroll().subscribe(function(){t.handlerOneEleOneByOne()}),t.mouseover().subscribe(function(e){t.handlerOneEle(e)}),t.handlerAll(),t.handlerOneEleOneByOne()})},t}();e.RedirectOnRequest=a},function(t,e,r){var n,o;(function(){function r(t){function e(e,r,n,o,i,u){for(;i>=0&&i<u;i+=t){var s=o?o[i]:i;n=r(n,e[s],s,e)}return n}return function(r,n,o,i){n=x(n,i,4);var u=!k(r)&&g.keys(r),s=(u||r).length,c=t>0?0:s-1;return arguments.length<3&&(o=r[u?u[c]:c],c+=t),e(r,n,o,u,c,s)}}function i(t){return function(e,r,n){r=S(r,n);for(var o=N(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(r(e[i],i,e))return i;return-1}}function u(t,e,r){return function(n,o,i){var u=0,s=N(n);if("number"==typeof i)t>0?u=i>=0?i:Math.max(i+s,u):s=i>=0?Math.min(i+1,s):i+s+1;else if(r&&i&&s)return i=r(n,o),n[i]===o?i:-1;if(o!==o)return i=e(d.call(n,u,s),g.isNaN),i>=0?i+u:-1;for(i=t>0?u:s-1;i>=0&&i<s;i+=t)if(n[i]===o)return i;return-1}}function s(t,e){var r=C.length,n=t.constructor,o=g.isFunction(n)&&n.prototype||f,i="constructor";for(g.has(t,i)&&!g.contains(e,i)&&e.push(i);r--;)i=C[r],i in t&&t[i]!==o[i]&&!g.contains(e,i)&&e.push(i)}var c=this,a=c._,l=Array.prototype,f=Object.prototype,h=Function.prototype,p=l.push,d=l.slice,b=f.toString,v=f.hasOwnProperty,y=Array.isArray,m=Object.keys,w=h.bind,O=Object.create,_=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=g),e._=g,g.VERSION="1.8.3";var x=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,i){return t.call(e,r,n,o,i)}}return function(){return t.apply(e,arguments)}},S=function(t,e,r){return null==t?g.identity:g.isFunction(t)?x(t,e,r):g.isObject(t)?g.matcher(t):g.property(t)};g.iteratee=function(t,e){return S(t,e,1/0)};var E=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var o=1;o<n;o++)for(var i=arguments[o],u=t(i),s=u.length,c=0;c<s;c++){var a=u[c];e&&void 0!==r[a]||(r[a]=i[a])}return r}},j=function(t){if(!g.isObject(t))return{};if(O)return O(t);_.prototype=t;var e=new _;return _.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,N=A("length"),k=function(t){var e=N(t);return"number"==typeof e&&e>=0&&e<=T};g.each=g.forEach=function(t,e,r){e=x(e,r);var n,o;if(k(t))for(n=0,o=t.length;n<o;n++)e(t[n],n,t);else{var i=g.keys(t);for(n=0,o=i.length;n<o;n++)e(t[i[n]],i[n],t)}return t},g.map=g.collect=function(t,e,r){e=S(e,r);for(var n=!k(t)&&g.keys(t),o=(n||t).length,i=Array(o),u=0;u<o;u++){var s=n?n[u]:u;i[u]=e(t[s],s,t)}return i},g.reduce=g.foldl=g.inject=r(1),g.reduceRight=g.foldr=r(-1),g.find=g.detect=function(t,e,r){var n;if(n=k(t)?g.findIndex(t,e,r):g.findKey(t,e,r),void 0!==n&&n!==-1)return t[n]},g.filter=g.select=function(t,e,r){var n=[];return e=S(e,r),g.each(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n},g.reject=function(t,e,r){return g.filter(t,g.negate(S(e)),r)},g.every=g.all=function(t,e,r){e=S(e,r);for(var n=!k(t)&&g.keys(t),o=(n||t).length,i=0;i<o;i++){var u=n?n[i]:i;if(!e(t[u],u,t))return!1}return!0},g.some=g.any=function(t,e,r){e=S(e,r);for(var n=!k(t)&&g.keys(t),o=(n||t).length,i=0;i<o;i++){var u=n?n[i]:i;if(e(t[u],u,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,r,n){return k(t)||(t=g.values(t)),("number"!=typeof r||n)&&(r=0),g.indexOf(t,e,r)>=0},g.invoke=function(t,e){var r=d.call(arguments,2),n=g.isFunction(e);return g.map(t,function(t){var o=n?e:t[e];return null==o?o:o.apply(t,r)})},g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,r){var n,o,i=-(1/0),u=-(1/0);if(null==e&&null!=t){t=k(t)?t:g.values(t);for(var s=0,c=t.length;s<c;s++)n=t[s],n>i&&(i=n)}else e=S(e,r),g.each(t,function(t,r,n){o=e(t,r,n),(o>u||o===-(1/0)&&i===-(1/0))&&(i=t,u=o)});return i},g.min=function(t,e,r){var n,o,i=1/0,u=1/0;if(null==e&&null!=t){t=k(t)?t:g.values(t);for(var s=0,c=t.length;s<c;s++)n=t[s],n<i&&(i=n)}else e=S(e,r),g.each(t,function(t,r,n){o=e(t,r,n),(o<u||o===1/0&&i===1/0)&&(i=t,u=o)});return i},g.shuffle=function(t){for(var e,r=k(t)?t:g.values(t),n=r.length,o=Array(n),i=0;i<n;i++)e=g.random(0,i),e!==i&&(o[i]=o[e]),o[e]=r[i];return o},g.sample=function(t,e,r){return null==e||r?(k(t)||(t=g.values(t)),t[g.random(t.length-1)]):g.shuffle(t).slice(0,Math.max(0,e))},g.sortBy=function(t,e,r){return e=S(e,r),g.pluck(g.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var P=function(t){return function(e,r,n){var o={};return r=S(r,n),g.each(e,function(n,i){var u=r(n,i,e);t(o,n,u)}),o}};g.groupBy=P(function(t,e,r){g.has(t,r)?t[r].push(e):t[r]=[e]}),g.indexBy=P(function(t,e,r){t[r]=e}),g.countBy=P(function(t,e,r){g.has(t,r)?t[r]++:t[r]=1}),g.toArray=function(t){return t?g.isArray(t)?d.call(t):k(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:k(t)?t.length:g.keys(t).length},g.partition=function(t,e,r){e=S(e,r);var n=[],o=[];return g.each(t,function(t,r,i){(e(t,r,i)?n:o).push(t)}),[n,o]},g.first=g.head=g.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,r){return d.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},g.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,r){return d.call(t,null==e||r?1:e)},g.compact=function(t){return g.filter(t,g.identity)};var M=function(t,e,r,n){for(var o=[],i=0,u=n||0,s=N(t);u<s;u++){var c=t[u];if(k(c)&&(g.isArray(c)||g.isArguments(c))){e||(c=M(c,e,r));var a=0,l=c.length;for(o.length+=l;a<l;)o[i++]=c[a++]}else r||(o[i++]=c)}return o};g.flatten=function(t,e){return M(t,e,!1)},g.without=function(t){return g.difference(t,d.call(arguments,1))},g.uniq=g.unique=function(t,e,r,n){g.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=S(r,n));for(var o=[],i=[],u=0,s=N(t);u<s;u++){var c=t[u],a=r?r(c,u,t):c;e?(u&&i===a||o.push(c),i=a):r?g.contains(i,a)||(i.push(a),o.push(c)):g.contains(o,c)||o.push(c)}return o},g.union=function(){return g.uniq(M(arguments,!0,!0))},g.intersection=function(t){for(var e=[],r=arguments.length,n=0,o=N(t);n<o;n++){var i=t[n];if(!g.contains(e,i)){for(var u=1;u<r&&g.contains(arguments[u],i);u++);u===r&&e.push(i)}}return e},g.difference=function(t){var e=M(arguments,!0,!0,1);return g.filter(t,function(t){return!g.contains(e,t)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(t){for(var e=t&&g.max(t,N).length||0,r=Array(e),n=0;n<e;n++)r[n]=g.pluck(t,n);return r},g.object=function(t,e){for(var r={},n=0,o=N(t);n<o;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},g.findIndex=i(1),g.findLastIndex=i(-1),g.sortedIndex=function(t,e,r,n){r=S(r,n,1);for(var o=r(e),i=0,u=N(t);i<u;){var s=Math.floor((i+u)/2);r(t[s])<o?i=s+1:u=s}return i},g.indexOf=u(1,g.findIndex,g.sortedIndex),g.lastIndexOf=u(-1,g.findLastIndex),g.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),i=0;i<n;i++,t+=r)o[i]=t;return o};var I=function(t,e,r,n,o){if(!(n instanceof e))return t.apply(r,o);var i=j(t.prototype),u=t.apply(i,o);return g.isObject(u)?u:i};g.bind=function(t,e){if(w&&t.bind===w)return w.apply(t,d.call(arguments,1));if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var r=d.call(arguments,2),n=function(){return I(t,n,e,this,r.concat(d.call(arguments)))};return n},g.partial=function(t){var e=d.call(arguments,1),r=function(){for(var n=0,o=e.length,i=Array(o),u=0;u<o;u++)i[u]=e[u]===g?arguments[n++]:e[u];for(;n<arguments.length;)i.push(arguments[n++]);return I(t,r,this,this,i)};return r},g.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)r=arguments[e],t[r]=g.bind(t[r],t);return t},g.memoize=function(t,e){var r=function(n){var o=r.cache,i=""+(e?e.apply(this,arguments):n);return g.has(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return r.cache={},r},g.delay=function(t,e){var r=d.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,r){var n,o,i,u=null,s=0;r||(r={});var c=function(){s=r.leading===!1?0:g.now(),u=null,i=t.apply(n,o),u||(n=o=null)};return function(){var a=g.now();s||r.leading!==!1||(s=a);var l=e-(a-s);return n=this,o=arguments,l<=0||l>e?(u&&(clearTimeout(u),u=null),s=a,i=t.apply(n,o),u||(n=o=null)):u||r.trailing===!1||(u=setTimeout(c,l)),i}},g.debounce=function(t,e,r){var n,o,i,u,s,c=function(){var a=g.now()-u;a<e&&a>=0?n=setTimeout(c,e-a):(n=null,r||(s=t.apply(i,o),n||(i=o=null)))};return function(){i=this,o=arguments,u=g.now();var a=r&&!n;return n||(n=setTimeout(c,e)),a&&(s=t.apply(i,o),i=o=null),s}},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},g.once=g.partial(g.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(t){if(!g.isObject(t))return[];if(m)return m(t);var e=[];for(var r in t)g.has(t,r)&&e.push(r);return F&&s(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var r in t)e.push(r);return F&&s(t,e),e},g.values=function(t){for(var e=g.keys(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=t[e[o]];return n},g.mapObject=function(t,e,r){e=S(e,r);for(var n,o=g.keys(t),i=o.length,u={},s=0;s<i;s++)n=o[s],u[n]=e(t[n],n,t);return u},g.pairs=function(t){for(var e=g.keys(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=[e[o],t[e[o]]];return n},g.invert=function(t){for(var e={},r=g.keys(t),n=0,o=r.length;n<o;n++)e[t[r[n]]]=r[n];return e},g.functions=g.methods=function(t){var e=[];for(var r in t)g.isFunction(t[r])&&e.push(r);return e.sort()},g.extend=E(g.allKeys),g.extendOwn=g.assign=E(g.keys),g.findKey=function(t,e,r){e=S(e,r);for(var n,o=g.keys(t),i=0,u=o.length;i<u;i++)if(n=o[i],e(t[n],n,t))return n},g.pick=function(t,e,r){var n,o,i={},u=t;if(null==u)return i;g.isFunction(e)?(o=g.allKeys(u),n=x(e,r)):(o=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},u=Object(u));for(var s=0,c=o.length;s<c;s++){var a=o[s],l=u[a];n(l,a,u)&&(i[a]=l)}return i},g.omit=function(t,e,r){if(g.isFunction(e))e=g.negate(e);else{var n=g.map(M(arguments,!1,!1,1),String);e=function(t,e){return!g.contains(n,e)}}return g.pick(t,e,r)},g.defaults=E(g.allKeys,!0),g.create=function(t,e){var r=j(t);return e&&g.extendOwn(r,e),r},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var r=g.keys(e),n=r.length;if(null==t)return!n;for(var o=Object(t),i=0;i<n;i++){var u=r[i];if(e[u]!==o[u]||!(u in o))return!1}return!0};var $=function(t,e,r,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var o=b.call(t);if(o!==b.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,s=e.constructor;if(u!==s&&!(g.isFunction(u)&&u instanceof u&&g.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var c=r.length;c--;)if(r[c]===t)return n[c]===e;if(r.push(t),n.push(e),i){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!$(t[c],e[c],r,n))return!1}else{var a,l=g.keys(t);if(c=l.length,g.keys(e).length!==c)return!1;for(;c--;)if(a=l[c],!g.has(e,a)||!$(t[a],e[a],r,n))return!1}return r.pop(),n.pop(),!0};g.isEqual=function(t,e){return $(t,e)},g.isEmpty=function(t){return null==t||(k(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=y||function(t){return"[object Array]"===b.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){g["is"+t]=function(e){return b.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(t){return g.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&t!==+t},g.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===b.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){return null!=t&&v.call(t,e)},g.noConflict=function(){return c._=a,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=A,g.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,r){var n=Array(Math.max(0,t));e=x(e,r,1);for(var o=0;o<t;o++)n[o]=e(o);return n},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=g.invert(R),L=function(t){var e=function(e){return t[e]},r="(?:"+g.keys(t).join("|")+")",n=RegExp(r),o=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,e):t}};g.escape=L(R),g.unescape=L(V),g.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),g.isFunction(n)?n.call(t):n};var q=0;g.uniqueId=function(t){var e=++q+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+U[t]};g.template=function(t,e,r){!e&&r&&(e=r),e=g.defaults({},e,g.templateSettings);var n=RegExp([(e.escape||D).source,(e.interpolate||D).source,(e.evaluate||D).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(n,function(e,r,n,u,s){return i+=t.slice(o,s).replace(z,B),o=s+e.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?i+="'+\n((__t=("+n+"))==null?'':__t)+\n'":u&&(i+="';\n"+u+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var u=new Function(e.variable||"obj","_",i)}catch(t){throw t.source=i,t}var s=function(t){return u.call(this,t,g)},c=e.variable||"obj";return s.source="function("+c+"){\n"+i+"}",s},g.chain=function(t){var e=g(t);return e._chain=!0,e};var G=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){g.each(g.functions(t),function(e){var r=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return p.apply(t,arguments),G(this,r.apply(g,t))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];g.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],G(this,r)}}),g.each(["concat","join","slice"],function(t){var e=l[t];g.prototype[t]=function(){return G(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},n=[],o=function(){return g}.apply(e,n),!(void 0!==o&&(t.exports=o))}).call(this)},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r(26),r(28),r(27),r(29),r(25),r(37),r(34),r(33),r(30),r(32),r(35),r(36),r(38),r(31);var n=r(39),o=r(40),i=r(41),u=r(43),s=r(42);n.default.bootstrap(),o.default.bootstrap(),i.default.bootstrap(),u.default.bootstrap(),s.default.bootstrap()}]);